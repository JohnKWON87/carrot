# ========================================
# \uC2A4\uD504\uB9C1 \uBD80\uD2B8 \uAE30\uBCF8 \uC124\uC815
# ========================================

# \uC560\uD50C\uB9AC\uCF00\uC774\uC158 \uC774\uB984 (\uB85C\uADF8\uC640 \uBAA8\uB2C8\uD130\uB9C1\uC5D0\uC11C \uC2DD\uBCC4\uC6A9)
spring.application.name=carrot

# \uC11C\uBC84 \uD3EC\uD2B8 \uC124\uC815 (\uAE30\uBCF8\uAC12: 8080)
server.port=8080

# ========================================
# \uB370\uC774\uD130\uBCA0\uC774\uC2A4 \uC124\uC815 - MySQL (\uC2E4\uC81C DB \uC0AC\uC6A9)
# ========================================

# MySQL \uB370\uC774\uD130\uBCA0\uC774\uC2A4 \uC5F0\uACB0 \uC124\uC815
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost:3306/carrot?serverTimezone=Asia/Seoul&useUnicode=true&characterEncoding=UTF-8&allowPublicKeyRetrieval=true&useSSL=false
spring.datasource.username=root
spring.datasource.password=1234

# \uCEE4\uB125\uC158 \uD480 \uC124\uC815
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5

# ========================================
# JPA/Hibernate \uC124\uC815
# ========================================

# SQL \uCFFC\uB9AC \uCF58\uC194 \uCD9C\uB825 (\uAC1C\uBC1C\uC2DC \uB514\uBC84\uAE45\uC6A9)
spring.jpa.properties.hibernate.show_sql=true

# SQL \uCFFC\uB9AC \uD3EC\uB9F7\uD305 (\uAC00\uB3C5\uC131 \uD5A5\uC0C1)
spring.jpa.properties.hibernate.format_sql=true

# SQL \uD30C\uB77C\uBBF8\uD130 \uAC12\uAE4C\uC9C0 \uB85C\uADF8\uC5D0 \uCD9C\uB825
logging.level.org.hibernate.type.descriptor.sql=trace

# DDL \uC790\uB3D9 \uC0DD\uC131 \uC124\uC815 \uBCC0\uACBD: create-drop \u2192 update
# update: \uAE30\uC874 \uB370\uC774\uD130\uB97C \uC720\uC9C0\uD558\uBA74\uC11C \uC2A4\uD0A4\uB9C8\uB9CC \uC5C5\uB370\uC774\uD2B8
spring.jpa.hibernate.ddl-auto=update

# MySQL \uB370\uC774\uD130\uBCA0\uC774\uC2A4\uC6A9 Dialect \uC124\uC815
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

# \uB370\uC774\uD130\uBCA0\uC774\uC2A4 \uCD08\uAE30\uD654
spring.jpa.defer-datasource-initialization=true

# ========================================
# \uAC1C\uBC1C \uB3C4\uAD6C \uC124\uC815 (Spring Boot DevTools)
# ========================================

# Live Reload \uAE30\uB2A5 \uD65C\uC131\uD654 (\uCF54\uB4DC \uBCC0\uACBD\uC2DC \uC790\uB3D9 \uC0C8\uB85C\uACE0\uCE68)
spring.devtools.livereload.enabled=true

# ========================================
# Thymeleaf \uD15C\uD50C\uB9BF \uC5D4\uC9C4 \uC124\uC815
# ========================================

# Thymeleaf \uCE90\uC2DC \uBE44\uD65C\uC131\uD654 (\uAC1C\uBC1C\uC2DC \uD15C\uD50C\uB9BF \uBCC0\uACBD \uC989\uC2DC \uBC18\uC601)
spring.thymeleaf.cache=false

# ========================================
# \uD30C\uC77C \uC5C5\uB85C\uB4DC \uC124\uC815
# ========================================

# \uD30C\uC77C \uC5C5\uB85C\uB4DC \uD65C\uC131\uD654
spring.servlet.multipart.enabled=true

# \uB2E8\uC77C \uD30C\uC77C \uCD5C\uB300 \uD06C\uAE30 \uC81C\uD55C
spring.servlet.multipart.max-file-size=10MB

# \uC804\uCCB4 HTTP \uC694\uCCAD\uC758 \uCD5C\uB300 \uD06C\uAE30 \uC81C\uD55C
spring.servlet.multipart.max-request-size=20MB

# \uC774\uBBF8\uC9C0 \uD30C\uC77C \uC800\uC7A5 \uACBD\uB85C \uC124\uC815
file.upload.dir=uploads/images

# \uC784\uC2DC \uD30C\uC77C \uC815\uB9AC \uC784\uACC4\uAC12 (1MB \uC774\uC0C1\uC77C \uB54C \uB514\uC2A4\uD06C\uC5D0 \uC800\uC7A5)
spring.servlet.multipart.file-size-threshold=1MB

# ========================================
# JPA \uC131\uB2A5 \uCD5C\uC801\uD654 \uC124\uC815
# ========================================

# Hibernate N+1 \uBB38\uC81C \uD574\uACB0\uC744 \uC704\uD55C \uBC30\uCE58 \uC0AC\uC774\uC988 \uC124\uC815
spring.jpa.properties.hibernate.default_batch_fetch_size=1000

# ========================================
# \uB85C\uAE45 \uC124\uC815 (\uB514\uBC84\uAE45\uC6A9)
# ========================================

# \uAC1C\uBC1C \uC911\uC5D0\uB294 INFO \uB808\uBCA8\uB85C \uC124\uC815 (\uB108\uBB34 \uB9CE\uC740 \uB85C\uADF8 \uBC29\uC9C0)
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=INFO
logging.level.com.carrot=DEBUG

# ========================================
# \uB370\uC774\uD130\uBCA0\uC774\uC2A4 \uC5F0\uACB0 \uD14C\uC2A4\uD2B8 \uC124\uC815
# ========================================

# \uC560\uD50C\uB9AC\uCF00\uC774\uC158 \uC2DC\uC791 \uC2DC DB \uC5F0\uACB0 \uD14C\uC2A4\uD2B8
spring.datasource.test-on-borrow=true
spring.datasource.validation-query=SELECT 1

# ========================================
# \uC815\uC801 \uB9AC\uC18C\uC2A4 \uC124\uC815 (\uC774\uBBF8\uC9C0 \uD30C\uC77C \uC11C\uBE59\uC6A9)
# ========================================

# \uC815\uC801 \uB9AC\uC18C\uC2A4 \uCE90\uC2DC \uC124\uC815 (\uAC1C\uBC1C \uC2DC \uCE90\uC2DC \uBE44\uD65C\uC131\uD654)
spring.web.resources.cache.cachecontrol.no-cache=true

# \uC815\uC801 \uB9AC\uC18C\uC2A4 \uC704\uCE58 \uC124\uC815
spring.web.resources.static-locations=classpath:/static/,classpath:/static/images/,file:uploads/images/