<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¤‘ê³ ê±°ë˜ ì‚¬ì´íŠ¸ - ë©”ì¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
        }

        .navbar {
            background-color: #fff;
            padding: 1rem 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .navbar-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .navbar-left {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #333;
            text-decoration: none;
        }

        .nav-categories {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-categories a {
            text-decoration: none;
            color: #666;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: all 0.3s;
        }

        .nav-categories a:hover {
            background-color: #007bff;
            color: white;
        }

        .navbar-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .search-box {
            display: flex;
            gap: 0.5rem;
        }

        .search-box input {
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 200px;
        }

        .search-btn {
            padding: 0.5rem 1rem;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .welcome-msg {
            color: #333;
            font-weight: 500;
        }

        .logout-btn {
            padding: 0.5rem 1rem;
            background-color: #dc3545;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .logout-btn:hover {
            background-color: #c82333;
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .welcome-section {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            text-align: center;
        }

        .section {
            background: white;
            margin-bottom: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .section-header {
            background-color: #f8f9fa;
            padding: 1rem 2rem;
            border-bottom: 1px solid #dee2e6;
        }

        .section-title {
            color: #333;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .section-content {
            padding: 2rem;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .category-card {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 8px;
            text-decoration: none;
            color: #333;
            text-align: center;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .category-card:hover {
            background: #007bff;
            color: white;
            border-color: #0056b3;
            transform: translateY(-2px);
        }

        .category-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .category-name {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .category-desc {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .product-card {
            background: #f8f9fa;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s;
        }

        .product-card:hover {
            transform: translateY(-2px);
        }

        .product-image {
            width: 100%;
            height: 150px;
            background-color: #dee2e6;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
        }

        .product-info {
            padding: 1rem;
        }

        .product-name {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .product-price {
            color: #007bff;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .action-btn {
            background: #007bff;
            color: white;
            text-decoration: none;
            padding: 1rem;
            text-align: center;
            border-radius: 8px;
            font-weight: 600;
            transition: background-color 0.3s;
        }

        .action-btn:hover {
            background: #0056b3;
        }

        .action-btn.secondary {
            background: #6c757d;
        }

        .action-btn.secondary:hover {
            background: #545b62;
        }

        .action-btn.purchase {
            background: #28a745;
        }

        .action-btn.purchase:hover {
            background: #218838;
        }
    </style>
</head>
<body>
<!-- ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
<nav class="navbar">
    <div class="navbar-content">
        <div class="navbar-left">
            <a href="/" class="logo">ì¤‘ê³ ê±°ë˜</a>
            <ul class="nav-categories">
                <li><a href="/category/clothes">ì˜ë¥˜</a></li>
                <li><a href="/category/electronics">ê°€ì „ì œí’ˆ</a></li>
                <li><a href="/category/misc">ê¸°íƒ€ ë° ì¡í™”</a></li>
            </ul>
        </div>

        <div class="navbar-right">
            <form action="/search/results" method="get" class="search-box">
                <input type="text" name="keyword" placeholder="ìƒí’ˆ ê²€ìƒ‰..." required>
                <button type="submit" class="search-btn">ê²€ìƒ‰</button>
            </form>

            <div class="user-info">
                <span class="welcome-msg" th:text="'ì•ˆë…•í•˜ì„¸ìš”, ' + ${user.username} + 'ë‹˜'">ì•ˆë…•í•˜ì„¸ìš”, ì‚¬ìš©ìë‹˜</span>
                <a href="/my-info" style="padding: 0.5rem 1rem; background-color: #28a745; color: white; text-decoration: none; border-radius: 4px; margin-right: 0.5rem;">ë‚´ì •ë³´</a>  <!-- ì¶”ê°€ -->
                <a href="/logout" class="logout-btn">ë¡œê·¸ì•„ì›ƒ</a>
            </div>
        </div>
    </div>
</nav>

<!-- ë©”ì¸ ì»¨í…ì¸  -->
<div class="container">
    <!-- í™˜ì˜ ë©”ì‹œì§€ -->
    <div class="welcome-section">
        <h1>ì¤‘ê³  ê±°ë˜ ì‚¬ì´íŠ¸ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!</h1>
        <p>ì•ˆì „í•˜ê³  í¸ë¦¬í•œ ì¤‘ê³  ê±°ë˜ë¥¼ ì‹œì‘í•´ë³´ì„¸ìš”.</p>
    </div>

    <!-- ì¹´í…Œê³ ë¦¬ ì„¹ì…˜ -->
    <div class="section">
        <div class="section-header">
            <h2 class="section-title">ì¹´í…Œê³ ë¦¬ ë‘˜ëŸ¬ë³´ê¸°</h2>
        </div>
        <div class="section-content">
            <div class="category-grid">
                <a href="/category/clothes" class="category-card">
                    <div class="category-icon">ğŸ‘•</div>
                    <div class="category-name">ì˜ë¥˜</div>
                    <div class="category-desc">ì˜·, ì‹ ë°œ, ì•¡ì„¸ì„œë¦¬ ë“±</div>
                </a>

                <a href="/category/electronics" class="category-card">
                    <div class="category-icon">ğŸ“±</div>
                    <div class="category-name">ê°€ì „ì œí’ˆ</div>
                    <div class="category-desc">ìŠ¤ë§ˆíŠ¸í°, ë…¸íŠ¸ë¶, ê°€ì „ì œí’ˆ ë“±</div>
                </a>

                <a href="/category/misc" class="category-card">
                    <div class="category-icon">ğŸ“¦</div>
                    <div class="category-name">ê¸°íƒ€ ë° ì¡í™”</div>
                    <div class="category-desc">ë„ì„œ, ìƒí™œìš©í’ˆ, ê¸°íƒ€ ë¬¼í’ˆ ë“±</div>
                </a>
            </div>
        </div>
    </div>

    <!-- ë°”ë¡œ ê°€ê¸° -->
    <div class="section">
        <div class="section-header">
            <h2 class="section-title">ë°”ë¡œ ê°€ê¸°</h2>
        </div>
        <div class="section-content">
            <div class="quick-actions">
                <a href="/item/register" class="action-btn">ìƒí’ˆ ë“±ë¡í•˜ê¸°</a>
                <a href="/wanted/register" class="action-btn purchase">êµ¬ë§¤í¬ë§ ë“±ë¡</a>
                <a href="/item/my" class="action-btn secondary">ë‚´ ìƒí’ˆ</a>
                <a href="/wishlist" class="action-btn secondary">ê´€ì‹¬ìƒí’ˆ</a>
                <a href="/my-info" class="action-btn secondary">ë‚´ ì •ë³´ìˆ˜ì •</a>
            </div>
        </div>
    </div>

    <!-- ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ (ë™ì  ë©”ë‰´) -->
    <div class="section" th:if="${customMenus != null and !customMenus.isEmpty()}">
        <div class="section-header">
            <h2 class="section-title">ì»¤ë®¤ë‹ˆí‹°</h2>
        </div>
        <div class="section-content">
            <div class="category-grid">
                <a th:each="menu : ${customMenus}"
                   th:href="@{${menu.menuUrl}}"
                   class="category-card">
                    <div class="category-icon" th:text="${menu.menuIcon}">ğŸ“‹</div>
                    <div class="category-name" th:text="${menu.menuName}">ê²Œì‹œíŒ</div>
                    <div class="category-desc" th:text="${menu.description}">ì„¤ëª…</div>
                </a>
            </div>
        </div>
    </div>

    <!-- ìµœê·¼ ë“±ë¡ ìƒí’ˆ -->
    <div class="section">
        <div class="section-header">
            <h2 class="section-title">ìµœê·¼ ë“±ë¡ëœ ìƒí’ˆ</h2>
        </div>
        <div class="section-content">
            <div class="product-grid">
                <!-- ìƒí’ˆì´ ìˆì„ ë•Œ -->
                <a th:if="${recentItems != null and !recentItems.isEmpty()}"
                   th:each="item : ${recentItems}"
                   th:href="@{/item/{id}(id=${item.id})}"
                   class="product-card"
                   style="text-decoration: none; color: inherit;">
                        <div class="product-image">
                            <img th:if="${item.imageUrl}"
                                 th:src="@{${item.imageUrl}}"
                                 alt="ìƒí’ˆ ì´ë¯¸ì§€"
                                 style="width: 100%; height: 100%; object-fit: cover;">
                            <span th:unless="${item.imageUrl}">ğŸ“¦</span>
                        </div>
                        <div class="product-info">
                            <div class="product-name" th:text="${item.title}">ìƒí’ˆëª…</div>
                            <div class="product-price" th:text="${item.formattedPrice}">ê°€ê²©</div>
                        </div>
                    </a>
                </div>

                <!-- ìƒí’ˆì´ ì—†ì„ ë•Œ -->
                <div th:if="${recentItems == null or recentItems.isEmpty()}"
                     style="text-align: center; padding: 2rem; color: #666;">
                    <p>ë“±ë¡ëœ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.</p>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>